<!DOCTYPE html>
<html dir="rtl" lang="ar">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¯ Ø§Ù„Ù†Ø­Ù„Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© - AI Ù…ØªÙ‚Ø¯Ù…</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;900&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            direction: rtl;
            color: white;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .logo {
            font-size: 2em;
            font-weight: 900;
            background: linear-gradient(135deg, #FFB800, #FF6B35);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .ai-badge {
            background: linear-gradient(135deg, #00d2ff, #3a7bd5);
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .ai-badge::before {
            content: '';
            width: 8px;
            height: 8px;
            background: #00ff88;
            border-radius: 50%;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        /* Trending Section */
        .trending-section {
            background: linear-gradient(135deg, rgba(255, 56, 56, 0.2), rgba(255, 107, 53, 0.2));
            border: 1px solid rgba(255, 107, 53, 0.3);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 1.5em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title .fire {
            animation: shake 0.5s infinite;
        }

        @keyframes shake {

            0%,
            100% {
                transform: rotate(-5deg);
            }

            50% {
                transform: rotate(5deg);
            }
        }

        .trending-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .trending-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .trending-card:hover {
            transform: translateY(-5px);
            border-color: #FF6B35;
        }

        .trending-rank {
            position: absolute;
            top: -10px;
            right: -10px;
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #ff3838, #ff6b35);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
        }

        .trending-stats {
            display: flex;
            gap: 15px;
            margin-top: 10px;
            font-size: 0.85em;
            color: rgba(255, 255, 255, 0.7);
        }

        .trending-stats i {
            color: #FFB800;
        }

        /* AI Learning Section */
        .ai-section {
            background: linear-gradient(135deg, rgba(0, 210, 255, 0.1), rgba(58, 123, 213, 0.1));
            border: 1px solid rgba(0, 210, 255, 0.3);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .learning-indicator {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid rgba(0, 255, 136, 0.3);
        }

        .learning-indicator i {
            font-size: 1.5em;
            color: #00ff88;
            animation: rotate 2s linear infinite;
        }

        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        .personalized-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }

        .product-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.4s;
            cursor: pointer;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(255, 184, 0, 0.2);
        }

        .product-card.recommended::before {
            content: 'ğŸ¯ Ù…ÙˆØµÙ‰ Ø¨Ù‡ Ù„Ùƒ';
            position: absolute;
            top: 15px;
            left: 15px;
            background: linear-gradient(135deg, #00d2ff, #3a7bd5);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            z-index: 10;
        }

        .product-image {
            height: 180px;
            background: linear-gradient(135deg, #FFB800, #FF6B35);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5em;
        }

        .product-info {
            padding: 20px;
        }

        .product-category {
            color: #FFB800;
            font-size: 0.85em;
            margin-bottom: 8px;
        }

        .product-name {
            font-size: 1.2em;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .product-price {
            font-size: 1.5em;
            font-weight: 900;
            color: #FFB800;
        }

        .match-score {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 15px;
            padding: 10px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 10px;
            font-size: 0.9em;
        }

        .match-bar {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            overflow: hidden;
        }

        .match-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #00d2ff);
            border-radius: 3px;
            transition: width 0.5s;
        }

        /* User Profile */
        .user-profile {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .profile-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .interests-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .tag {
            background: rgba(255, 184, 0, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tag:hover,
        .tag.active {
            background: #FFB800;
            color: #1a1a2e;
        }

        /* Real-time Stats */
        .realtime-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-value {
            font-size: 2em;
            font-weight: 900;
            background: linear-gradient(135deg, #FFB800, #FF6B35);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.7);
            margin-top: 5px;
        }

        /* Actions */
        .add-btn {
            background: linear-gradient(135deg, #FFB800, #FF6B35);
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            color: white;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            margin-top: 15px;
            transition: all 0.3s;
        }

        .add-btn:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 25px rgba(255, 184, 0, 0.3);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: linear-gradient(135deg, #00d2ff, #3a7bd5);
            padding: 15px 30px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: transform 0.4s;
            z-index: 1000;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
        }

        @media (max-width: 768px) {
            .realtime-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .trending-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <div class="logo">ğŸ¯ Ø§Ù„Ù†Ø­Ù„Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©</div>
            <div class="ai-badge">AI Learning Ù†Ø´Ø·</div>
        </header>

        <!-- Real-time Stats -->
        <div class="realtime-stats">
            <div class="stat-card">
                <div class="stat-value" id="viewsToday">0</div>
                <div class="stat-label">Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø§Ù„ÙŠÙˆÙ…</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="learningScore">0%</div>
                <div class="stat-label">Ø¯Ù‚Ø© Ø§Ù„ØªÙˆØµÙŠØ§Øª</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="activeUsers">0</div>
                <div class="stat-label">Ù…Ø³ØªØ®Ø¯Ù… Ù†Ø´Ø·</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="interactions">0</div>
                <div class="stat-label">ØªÙØ§Ø¹Ù„Ø§Øª</div>
            </div>
        </div>

        <!-- User Profile -->
        <div class="user-profile">
            <div class="profile-header">
                <div class="section-title"><i class="fas fa-user-circle"></i> Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒ</div>
                <small style="color: rgba(255,255,255,0.5);">Ø§Ø¶ØºØ· Ù„ØªØ®ØµÙŠØµ Ø§Ù„ØªÙˆØµÙŠØ§Øª</small>
            </div>
            <div class="interests-tags" id="interestsTags">
                <span class="tag" onclick="toggleInterest(this, 'health')">ğŸ’ª ØµØ­Ø©</span>
                <span class="tag" onclick="toggleInterest(this, 'energy')">âš¡ Ø·Ø§Ù‚Ø©</span>
                <span class="tag" onclick="toggleInterest(this, 'medical')">ğŸ’Š Ø¹Ù„Ø§Ø¬ÙŠ</span>
                <span class="tag" onclick="toggleInterest(this, 'gift')">ğŸ Ù‡Ø¯Ø§ÙŠØ§</span>
                <span class="tag" onclick="toggleInterest(this, 'family')">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Ø¹Ø§Ø¦Ù„Ø©</span>
                <span class="tag" onclick="toggleInterest(this, 'sport')">ğŸ‹ï¸ Ø±ÙŠØ§Ø¶Ø©</span>
                <span class="tag" onclick="toggleInterest(this, 'economy')">ğŸ’° Ø§Ù‚ØªØµØ§Ø¯ÙŠ</span>
                <span class="tag" onclick="toggleInterest(this, 'premium')">â­ ÙØ§Ø®Ø±</span>
            </div>
        </div>

        <!-- Trending Products -->
        <div class="trending-section">
            <div class="section-title"><span class="fire">ğŸ”¥</span> Ø§Ù„Ø£ÙƒØ«Ø± Ø±ÙˆØ§Ø¬Ø§Ù‹ Ø§Ù„Ø¢Ù†</div>
            <div class="trending-grid" id="trendingGrid"></div>
        </div>

        <!-- AI Personalized -->
        <div class="ai-section">
            <div class="section-title"><i class="fas fa-brain"></i> ØªÙˆØµÙŠØ§Øª Ø°ÙƒÙŠØ© Ù…Ø®ØµØµØ© Ù„Ùƒ</div>
            <div class="learning-indicator">
                <i class="fas fa-sync-alt"></i>
                <span id="learningStatus">Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØªØ¹Ù„Ù… Ù…Ù† ØªÙØ¶ÙŠÙ„Ø§ØªÙƒ...</span>
            </div>
            <div class="personalized-grid" id="personalizedGrid"></div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast">
        <i class="fas fa-brain"></i>
        <span id="toastText">ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆØµÙŠØ§Øª!</span>
    </div>

    <script>
        // ========== DATA ==========
        const products = [
            { id: 1, name: "Ø¹Ø³Ù„ Ø§Ù„Ø³Ø¯Ø± Ø§Ù„Ø¬Ø¨Ù„ÙŠ", category: "ÙØ§Ø®Ø±", price: 350, tags: ["health", "premium", "gift"], views: 0, purchases: 0, trending: 95 },
            { id: 2, name: "Ø¹Ø³Ù„ Ø§Ù„Ù…Ø§Ù†ÙˆÙƒØ§", category: "Ø¹Ù„Ø§Ø¬ÙŠ", price: 450, tags: ["medical", "premium", "health"], views: 0, purchases: 0, trending: 88 },
            { id: 3, name: "Ø¹Ø³Ù„ Ø§Ù„Ø£ÙˆÙƒØ§Ù„Ø¨ØªÙˆØ³", category: "Ø¹Ù„Ø§Ø¬ÙŠ", price: 160, tags: ["medical", "health", "family"], views: 0, purchases: 0, trending: 75 },
            { id: 4, name: "Ø¹Ø³Ù„ Ø§Ù„ØºØ§Ø¨Ø© Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡", category: "Ø·Ø¨ÙŠØ¹ÙŠ", price: 200, tags: ["health", "energy"], views: 0, purchases: 0, trending: 70 },
            { id: 5, name: "Ø¹Ø³Ù„ Ø§Ù„Ø­Ù…Ø¶ÙŠØ§Øª", category: "ÙÙˆØ§ÙƒÙ‡", price: 150, tags: ["family", "economy"], views: 0, purchases: 0, trending: 65 },
            { id: 6, name: "Ø¹Ø³Ù„ Ø§Ù„Ø³Ù…Ø³Ù…", category: "Ù…Ù‚ÙˆÙŠ", price: 140, tags: ["sport", "energy", "economy"], views: 0, purchases: 0, trending: 80 },
            { id: 7, name: "Ø¹Ø³Ù„ Ø§Ù„Ø®Ø²Ø§Ù…Ù‰", category: "Ø²Ù‡ÙˆØ±", price: 190, tags: ["gift", "health"], views: 0, purchases: 0, trending: 60 },
            { id: 8, name: "Ø¹Ø³Ù„ Ø§Ù„ØºØ°Ø§Ø¡ Ø§Ù„Ù…Ù„ÙƒÙŠ", category: "Ø®Ø§Øµ", price: 380, tags: ["premium", "health", "energy"], views: 0, purchases: 0, trending: 92 }
        ];

        // ========== USER STATE ==========
        let userProfile = {
            interests: [],
            viewHistory: [],
            purchases: [],
            interactions: 0
        };

        // Load from localStorage
        function loadUserProfile() {
            const saved = localStorage.getItem('honeyUserProfile');
            if (saved) {
                userProfile = JSON.parse(saved);
                userProfile.interests.forEach(interest => {
                    const tag = document.querySelector(`.tag[onclick*="${interest}"]`);
                    if (tag) tag.classList.add('active');
                });
            }
        }

        function saveUserProfile() {
            localStorage.setItem('honeyUserProfile', JSON.stringify(userProfile));
        }

        // ========== REAL-TIME LEARNING ==========
        function toggleInterest(el, interest) {
            el.classList.toggle('active');

            if (userProfile.interests.includes(interest)) {
                userProfile.interests = userProfile.interests.filter(i => i !== interest);
            } else {
                userProfile.interests.push(interest);
            }

            userProfile.interactions++;
            saveUserProfile();
            updateRecommendations();
            showToast('ğŸ§  ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒ!');
        }

        function trackView(productId) {
            const product = products.find(p => p.id === productId);
            product.views++;
            product.trending = Math.min(100, product.trending + 1);

            userProfile.viewHistory.push(productId);
            userProfile.interactions++;
            saveUserProfile();

            updateStats();
            updateTrending();
        }

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            product.purchases++;
            product.trending = Math.min(100, product.trending + 5);

            userProfile.purchases.push(productId);
            userProfile.interactions++;
            saveUserProfile();

            // Learn from purchase
            product.tags.forEach(tag => {
                if (!userProfile.interests.includes(tag)) {
                    userProfile.interests.push(tag);
                    const tagEl = document.querySelector(`.tag[onclick*="${tag}"]`);
                    if (tagEl) tagEl.classList.add('active');
                }
            });

            saveUserProfile();
            updateRecommendations();
            showToast(`âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© "${product.name}" - Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØªØ¹Ù„Ù… Ù…Ù† Ø§Ø®ØªÙŠØ§Ø±Ùƒ!`);
        }

        // ========== RECOMMENDATION ENGINE ==========
        function calculateMatchScore(product) {
            if (userProfile.interests.length === 0) return 50;

            let score = 0;
            const matchingTags = product.tags.filter(t => userProfile.interests.includes(t));
            score = (matchingTags.length / userProfile.interests.length) * 100;

            // Boost for viewed products
            const viewCount = userProfile.viewHistory.filter(id => id === product.id).length;
            score += viewCount * 5;

            // Boost for trending
            score += product.trending * 0.1;

            return Math.min(99, Math.round(score));
        }

        function getPersonalizedProducts() {
            return products
                .map(p => ({ ...p, matchScore: calculateMatchScore(p) }))
                .sort((a, b) => b.matchScore - a.matchScore)
                .slice(0, 6);
        }

        function getTrendingProducts() {
            return [...products]
                .sort((a, b) => b.trending - a.trending)
                .slice(0, 4);
        }

        // ========== RENDER ==========
        function renderTrending() {
            const grid = document.getElementById('trendingGrid');
            const trending = getTrendingProducts();

            grid.innerHTML = trending.map((p, i) => `
                <div class="trending-card" onclick="trackView(${p.id})">
                    <div class="trending-rank">${i + 1}</div>
                    <div style="font-size: 2em; margin-bottom: 10px;">ğŸ¯</div>
                    <div style="font-weight: 700;">${p.name}</div>
                    <div style="color: #FFB800; font-weight: 900;">${p.price} Ø±ÙŠØ§Ù„</div>
                    <div class="trending-stats">
                        <span><i class="fas fa-eye"></i> ${p.views}</span>
                        <span><i class="fas fa-fire"></i> ${p.trending}%</span>
                    </div>
                </div>
            `).join('');
        }

        function renderPersonalized() {
            const grid = document.getElementById('personalizedGrid');
            const personalized = getPersonalizedProducts();

            grid.innerHTML = personalized.map(p => `
                <div class="product-card ${p.matchScore > 70 ? 'recommended' : ''}" onclick="trackView(${p.id})">
                    <div class="product-image">ğŸ¯</div>
                    <div class="product-info">
                        <div class="product-category">${p.category}</div>
                        <div class="product-name">${p.name}</div>
                        <div class="product-price">${p.price} Ø±ÙŠØ§Ù„</div>
                        <div class="match-score">
                            <span>ØªØ·Ø§Ø¨Ù‚:</span>
                            <div class="match-bar">
                                <div class="match-fill" style="width: ${p.matchScore}%"></div>
                            </div>
                            <span>${p.matchScore}%</span>
                        </div>
                        <button class="add-btn" onclick="event.stopPropagation(); addToCart(${p.id})">
                            <i class="fas fa-cart-plus"></i> Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function updateRecommendations() {
            renderPersonalized();
            updateLearningStatus();
        }

        function updateTrending() {
            renderTrending();
        }

        function updateStats() {
            const totalViews = products.reduce((sum, p) => sum + p.views, 0);
            const avgMatch = userProfile.interests.length > 0 ?
                Math.round(products.reduce((sum, p) => sum + calculateMatchScore(p), 0) / products.length) : 50;

            document.getElementById('viewsToday').textContent = totalViews;
            document.getElementById('learningScore').textContent = avgMatch + '%';
            document.getElementById('activeUsers').textContent = Math.floor(Math.random() * 50) + 10;
            document.getElementById('interactions').textContent = userProfile.interactions;
        }

        function updateLearningStatus() {
            const status = document.getElementById('learningStatus');
            if (userProfile.interests.length === 0) {
                status.textContent = 'Ø§Ø®ØªØ± Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒ Ù„ØªÙˆØµÙŠØ§Øª Ø£Ø¯Ù‚...';
            } else if (userProfile.interactions < 5) {
                status.textContent = 'Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØªØ¹Ù„Ù… Ù…Ù† ØªÙØ¶ÙŠÙ„Ø§ØªÙƒ...';
            } else {
                status.textContent = `âœ… ØªÙ… ØªØ®ØµÙŠØµ ${products.length} Ù…Ù†ØªØ¬ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ${userProfile.interactions} ØªÙØ§Ø¹Ù„`;
            }
        }

        function showToast(text) {
            const toast = document.getElementById('toast');
            document.getElementById('toastText').textContent = text;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }

        // ========== INIT ==========
        loadUserProfile();
        renderTrending();
        renderPersonalized();
        updateStats();
        updateLearningStatus();

        // Simulate real-time updates
        setInterval(() => {
            // Random trending boost
            const randomProduct = products[Math.floor(Math.random() * products.length)];
            randomProduct.trending = Math.min(100, randomProduct.trending + Math.random() * 2);
            updateTrending();
            updateStats();
        }, 5000);
    </script>
</body>

</html>